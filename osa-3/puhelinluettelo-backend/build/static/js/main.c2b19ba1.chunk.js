(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(39)},19:function(e,t,n){},20:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),u=n.n(a),r=n(12),c=n.n(r),i=(n(19),n(4)),o=n(2),l=function(e){var t=e.list,n=e.deletePerson;return u.a.createElement("div",null,t.map(function(e){return u.a.createElement("p",{key:e.name},e.name," ",e.number," ",u.a.createElement("button",{type:"button",onClick:function(){return n(Object(i.a)({},e))}},"poista"))}))},s=function(e){var t=e.addPerson,n=e.newName,a=e.setNewName,r=e.newNumber,c=e.setNewNumber;return u.a.createElement("form",{onSubmit:t},u.a.createElement("div",null,"nimi: ",u.a.createElement("input",{value:n,onChange:function(e){return a(e.target.value)}})),u.a.createElement("div",null,"numero: ",u.a.createElement("input",{value:r,onChange:function(e){return c(e.target.value)}})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},m=function(e){var t=e.filter,n=e.setFilter;return u.a.createElement("div",null,"Rajaa n\xe4ytett\xe4vi\xe4: ",u.a.createElement("input",{value:t,onChange:function(e){return n(e.target.value)}}))},f=(n(20),function(e){var t=e.notification;return"success"in t?u.a.createElement("div",{className:t.success?"success":"error"},t.message):u.a.createElement("div",null)}),d=n(3),p=n.n(d),h=function(){return p.a.get("/api/persons").then(function(e){return e.data})},v=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),d=Object(o.a)(c,2),v=d[0],b=d[1],E=Object(a.useState)(""),w=Object(o.a)(E,2),j=w[0],N=w[1],O=Object(a.useState)(""),g=Object(o.a)(O,2),k=g[0],P=g[1],C=Object(a.useState)({}),S=Object(o.a)(C,2),y=S[0],L=S[1];Object(a.useEffect)(function(){h().then(function(e){return r(e)})},[]);var F=function(e,t){L({message:e,success:t}),setTimeout(function(){L({})},3e3)},H=n.filter(function(e){return e.name.toLowerCase().includes(k.toLowerCase())});return u.a.createElement("div",null,u.a.createElement("h2",null,"Puhelinluettelo"),u.a.createElement(f,{notification:y}),u.a.createElement(m,{filter:k,setFilter:P}),u.a.createElement("h3",null,"Lis\xe4\xe4 uusi"),u.a.createElement(s,{addPerson:function(e){var t;if(e.preventDefault(),n.map(function(e){return e.name}).includes(v)){if(window.confirm("".concat(v," on jo luettelossa, korvataanko vanha numero uudella?"))){var a=n.find(function(e){return e.name.includes(v)});(t=Object(i.a)({},a,{number:j}),p.a.put("/api/persons/".concat(t.id),t).then(function(e){return e.data})).then(function(){return h()}).then(function(e){return r(e)}).then(function(){return F("P\xe4ivitettiin henkil\xf6n ".concat(v," puhelinnumero"),!0)}).catch(function(e){return F(e.message,!1)})}}else(function(e){return p.a.post("/api/persons",e).then(function(e){return e.data})})({name:v,number:j}).then(function(){return h()}).then(function(e){return r(e)}).then(function(){return F("Lis\xe4ttiin ".concat(v," puhelinluetteloon"),!0)}).catch(function(e){return F(e.message,!1)})},newName:v,setNewName:b,newNumber:j,setNewNumber:N}),u.a.createElement("h2",null,"Numerot"),u.a.createElement(l,{list:H,deletePerson:function(e){var t=e.id,a=e.name;window.confirm("Haluatko todella poistaa henkil\xf6n ".concat(a,"?"))&&(function(e){return p.a.delete("/api/persons/".concat(e)).then(function(e){return e.data})}(t).then(function(){return F("Poistettiin ".concat(a," puhelinluettelosta"),!0)}).catch(function(){return F("Henkil\xf6 ".concat(a," oli jo poistettu"),!1)}),r(n.filter(function(e){return e.id!==t})))}}))};c.a.render(u.a.createElement(v,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.c2b19ba1.chunk.js.map