(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(39)},19:function(e,t,n){},20:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(12),c=n.n(u),i=(n(19),n(4)),o=n(2),l=function(e){var t=e.list,n=e.deletePerson;return r.a.createElement("div",null,t.map(function(e){return r.a.createElement("p",{key:e.name},e.name," ",e.number," ",r.a.createElement("button",{type:"button",onClick:function(){return n(Object(i.a)({},e))}},"poista"))}))},s=function(e){var t=e.addPerson,n=e.newName,a=e.setNewName,u=e.newNumber,c=e.setNewNumber;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:n,onChange:function(e){return a(e.target.value)}})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:u,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},m=function(e){var t=e.filter,n=e.setFilter;return r.a.createElement("div",null,"Rajaa n\xe4ytett\xe4vi\xe4: ",r.a.createElement("input",{value:t,onChange:function(e){return n(e.target.value)}}))},f=(n(20),function(e){var t=e.notification;return"success"in t?r.a.createElement("div",{className:t.success?"success":"error"},t.message):r.a.createElement("div",null)}),d=n(3),p=n.n(d),v=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],u=t[1],c=Object(a.useState)(""),d=Object(o.a)(c,2),v=d[0],b=d[1],h=Object(a.useState)(""),E=Object(o.a)(h,2),w=E[0],j=E[1],N=Object(a.useState)(""),O=Object(o.a)(N,2),g=O[0],k=O[1],P=Object(a.useState)({}),C=Object(o.a)(P,2),S=C[0],y=C[1];Object(a.useEffect)(function(){p.a.get("/api/persons").then(function(e){return e.data}).then(function(e){return u(e)})},[]);var L=function(e,t){y({message:e,success:t}),setTimeout(function(){y({})},3e3)},F=n.filter(function(e){return e.name.toLowerCase().includes(g.toLowerCase())});return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(f,{notification:S}),r.a.createElement(m,{filter:g,setFilter:k}),r.a.createElement("h3",null,"Lis\xe4\xe4 uusi"),r.a.createElement(s,{addPerson:function(e){var t;if(e.preventDefault(),n.map(function(e){return e.name}).includes(v)){if(window.confirm("".concat(v," on jo luettelossa, korvataanko vanha numero uudella?"))){var a=n.find(function(e){return e.name.includes(v)});(t=Object(i.a)({},a,{number:w}),p.a.put("/api/persons/".concat(t.id),t).then(function(e){return e.data})).then(function(e){return u(n.filter(function(t){return t.id!==e.id}).concat(e))}).then(function(){return L("P\xe4ivitettiin henkil\xf6n ".concat(v," puhelinnumero"),!0)})}}else(function(e){return p.a.post("/api/persons",e).then(function(e){return e.data})})({name:v,number:w}).then(function(e){return u(n.concat(e))}).then(function(){return L("Lis\xe4ttiin ".concat(v," puhelinluetteloon"),!0)})},newName:v,setNewName:b,newNumber:w,setNewNumber:j}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(l,{list:F,deletePerson:function(e){var t=e.id,a=e.name;window.confirm("Haluatko todella poistaa henkil\xf6n ".concat(a,"?"))&&(function(e){return p.a.delete("/api/persons/".concat(e)).then(function(e){return e.data})}(t).then(function(){return L("Poistettiin ".concat(a," puhelinluettelosta"),!0)}).catch(function(){return L("Henkil\xf6 ".concat(a," oli jo poistettu"),!1)}),u(n.filter(function(e){return e.id!==t})))}}))};c.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.13bc3a69.chunk.js.map